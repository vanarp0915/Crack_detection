<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <header class="header">
        <h2 class="welcomeh2">Crack Detection</h2>
        <img src="profile.png" alt="profile image">
    </header>

    <div class="container">
        <h2 class="welcomeh2">Browse an image to upload</h2>

        <label for="uploader"></label>
            <input type="file" id="inputFile" hidden="hidden"/>
            <div class="btnContainer">
                <span type="button" id="custom-button">CHOOSE A FILE</span>
                <span id="custom-text">No file choosen, yet.</span>
            </div>

        <div class="image-preview" id="imagePreview">
            <img src="" alt="Image Preview" id="image-preview__image">
            <span class="image-preview__default-text">Image Preview</span>
            <canvas id="canvas"></canvas>
        </div>
        <button class="uploadBtn">Upload</button>

    </div>
    <script>

        const inpFile = document.getElementById("inputFile");
        const previewContainer = document.getElementById("imagePreview");
        const previewImage = previewContainer.querySelector(".image-preview__image");
        const previewDefaultText = previewContainer.querySelector(".image-preview__default-text");

        inputFile.addEventListener("change", function() {
            const file = this.files[0];

            if(file) {
                const reader = new FileReader();

                previewDefaultText.style.display = "none";
                previewImage.style.display = "block";
                previewContainer.style.borderStyle = "dotted solid double dashed";

                reader.addEventListener("load", function() {
                previewImage.setAttribute("src", this.result);
                });

                reader.readAsDataURL(file);
            }
           else{
            previewDefaultText.style.display = null;
            previewImage.style.display = null;
            previewImage.setAttribute("src", "");
           }
        });
        
    </script>

    <script src="script.js"></script>
</body>
</html>